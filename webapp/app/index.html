<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>VTracer</title>
    <link
      rel="apple-touch-icon"
      sizes="192x192"
      href="./assets/apple-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="./assets/apple-icon.png"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
        overflow: hidden;
      }
      #droptext {
        border: 2px dashed #000;
        padding: 20px;
        color: #aaa;
      }
      #droptext.hovering {
        border-color: #fff;
      }
      #canvas-container {
        position: absolute;
        left: 2.5%;
        top: 5%;
        width: 95%;
        height: 90%;
      }
      #svg,
      #frame {
        position: absolute;
        width: 100%;
        height: 100%;
      }
      #svg > path:hover {
        stroke: #ff0;
      }
      #options {
        position: absolute;
        left: 2.5%;
        top: 5%;
        padding: 10px;
        background: rgba(255, 255, 255, 0.8);
      }
    </style>
  </head>

  <body>
    <input type="file" id="imageInput" accept="image/*" style="display: none" />
    <div>
      <div id="progressregion" style="display: none">
        <progress
          id="progressbar"
          value="0"
          max="100"
          style="width: 100%"
          class="progress-bar"
        ></progress>
      </div>
      <div id="drop">
        <div id="canvas-container">
          <div id="droptext" class="text-center">
            <p>
              Drag an image here or
              <a href="#" id="imageSelect" class="btn btn-link"
                >select a file</a
              >
            </p>
          </div>
          <canvas id="frame"></canvas>
          <svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>
        </div>
      </div>
    </div>
    <div id="options">
      <div class="mb-3">
        <button class="btn btn-primary" id="export">Download as SVG</button>
      </div>

      <div class="mb-3">
        <h5>Clustering</h5>
        <button id="clustering-binary" class="btn btn-secondary">B/W</button>
        <button id="clustering-color" class="btn btn-secondary">Color</button>
        <button id="clustering-cutout" class="btn btn-secondary">Cutout</button>
        <button id="clustering-stacked" class="btn btn-secondary">
          Stacked
        </button>
      </div>

      <div class="mb-3">
        <h5>Filter Speckle</h5>
        <span id="filterspecklevalue">4</span>
        <div class="form-group">
          <input
            id="filterspeckle"
            type="range"
            class="form-control-range"
            min="1"
            max="16"
            step="1"
            value="4"
          />
        </div>
      </div>

      <div class="mb-3">
        <h5>Color Precision</h5>
        <span id="colorprecisionvalue">6</span>
        <div class="form-group">
          <input
            id="colorprecision"
            type="range"
            class="form-control-range"
            min="1"
            max="8"
            step="1"
            value="6"
          />
        </div>
      </div>

      <div class="mb-3">
        <h5>Gradient Step</h5>
        <span id="layerdifferencevalue">16</span>
        <div class="form-group">
          <input
            id="layerdifference"
            type="range"
            class="form-control-range"
            min="0"
            max="255"
            step="1"
            value="16"
          />
        </div>
      </div>

      <div class="mb-3">
        <h5>Curve Fitting</h5>
        <button id="none" class="btn btn-secondary">Pixel</button>
        <button id="polygon" class="btn btn-secondary">Polygon</button>
        <button id="spline" class="btn btn-secondary selected">Spline</button>
      </div>

      <div class="mb-3">
        <h5>Corner Threshold</h5>
        <span id="cornervalue">60</span>
        <div class="form-group">
          <input
            id="corner"
            type="range"
            class="form-control-range"
            min="0"
            max="180"
            step="1"
            value="60"
          />
        </div>
      </div>

      <div class="mb-3">
        <h5>Segment Length</h5>
        <span id="lengthvalue">4</span>
        <div class="form-group">
          <input
            id="length"
            type="range"
            class="form-control-range"
            min="3.5"
            max="10"
            step="0.5"
            value="4"
          />
        </div>
      </div>

      <div class="mb-3">
        <h5>Splice Threshold</h5>
        <span id="splicevalue">45</span>
        <div class="form-group">
          <input
            id="splice"
            type="range"
            class="form-control-range"
            min="0"
            max="180"
            step="1"
            value="45"
          />
        </div>
      </div>

      <div class="d-none">
        <h5>Path Precision</h5>
        <span id="pathprecisionvalue">8</span>
        <div class="form-group">
          <input
            id="pathprecision"
            type="range"
            class="form-control-range"
            min="0"
            max="16"
            step="1"
            value="8"
          />
        </div>
      </div>
    </div>
    <script src="./bootstrap.js"></script>
  </body>
</html>
